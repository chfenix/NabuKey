# NabuKey 项目开发规划

## 项目愿景

将 NabuKey 打造成一个功能丰富、智能化、低依赖的 Android 语音助手终端，可以作为智能家居的控制中心和个人助理。

## 开发路线图

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                           NabuKey 开发路线图                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│  Phase 1: 核心体验优化                                                        │
│  ├── ✅ 表情系统重构                                                          │
│  │   ├── ✅ 基础表情动画(待机、监听、思考、说话、休眠)                        │
│  │   ├── ✅ 情绪表情(愤怒、兴奋、恐惧、悲伤、轻蔑)                            │
│  │   └── ✅ 待机表情循环(30秒自动切换表情)                                   │
│  ├── [🚧] 连续对话 (VAD + AEC)                                                │
│  ├── ✅ 屏幕唤醒与休眠管理                                                    │
│  └── [ ] 唤醒词本地检测优化                                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│  Phase 2: 本地智能增强                                                        │
│  ├── [ ] 本地 STT（SenseVoice）                                              │
│  ├── [ ] 本地 LLM（可选高级功能）                                             │
│  └── [ ] 自定义提示词系统                                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│  Phase 3: 信息展示与交互                                                      │
│  ├── [ ] 消息推送与显示系统                                                   │
│  ├── [ ] 音乐播放控制                                                        │
│  └── [ ] 人脸/人体检测                                                       │
└─────────────────────────────────────────────────────────────────────────────┘
```

## 功能模块索引

详细的设计文档请点击以下链接：

### 核心智能
1. **[连续对话 (VAD + AEC)](features/continuous_conversation.md)** ⭐⭐⭐⭐⭐
   - 自动静音检测、打断功能
   - 原生 AEC 回声消除

2. **[本地 STT (语音转文字)](features/local_stt.md)** ⭐⭐⭐⭐⭐
   - 使用 SenseVoice + Sherpa-ONNX
   - 集成 HA Conversation API

3. **[本地 LLM (离线对话)](features/local_llm.md)** ⭐⭐
   - 运行 Qwen/Phi 小模型
   - 提供离线闲聊能力 (高级功能)

### 交互体验
4. **[屏幕唤醒与休眠管理](features/screen_management.md)** ⭐⭐⭐⭐
   - 智能休眠/唤醒状态机
   - 亮度控制

5. **[消息推送与显示系统](features/message_system.md)** ⭐⭐⭐
   - 接收 HA 推送
   - 定时提醒与通知展示

### 个性化与控制
6. **[音乐播放控制](features/music_control.md)** ⭐⭐⭐
   - 语音控制音乐
   - 本地/HA 媒体控制

7. **[自定义提示词系统](features/custom_prompts.md)** ⭐⭐⭐
   - 个性化提示词模板
   - 提示词编辑界面

8. **[人脸/人体检测](features/face_detection.md)** ⭐⭐
   - 摄像头智能唤醒
   - 隐私保护

## 开发优先级排序

基于依赖关系和用户价值，建议的开发顺序：

1. **[屏幕管理](features/screen_management.md)** - 基础体验，奠定交互基础
2. **[连续对话](features/continuous_conversation.md)** - 核心交互模式革新
3. **[本地 STT](features/local_stt.md)** - 配合连续对话提升速度
4. **[消息系统](features/message_system.md)** - 增强视觉反馈
5. **[本地 LLM](features/local_llm.md)** - 离线能力补充

## 里程碑规划

### Milestone 1: 核心体验 (v0.2.0)
- [x] 表情系统重构
- [x] 屏幕唤醒与休眠管理
- [ ] 基础消息显示

### Milestone 2: 本地智能 (v0.3.0)
- [ ] 本地 STT 集成
- [ ] 唤醒词优化

### Milestone 3: 丰富功能 (v0.4.0)
- [ ] 完整消息推送系统
- [ ] 音乐播放控制

### Milestone 4: 高级特性 (v0.5.0)
- [ ] 本地 LLM
- [ ] 人脸/人体检测
- [ ] 自定义提示词

---

**最后更新**: 2026-01-27
