# 消息推送与显示系统

> **状态**: 📋 规划中 | **优先级**: ⭐⭐⭐ 中 | **复杂度**: 中

## 概述

从 Home Assistant 接收并显示推送消息，支持每日提醒、定时休息提醒等多种消息类型。

## 系统架构

```
┌────────────────┐     ┌─────────────────┐     ┌────────────────┐
│ Home Assistant │────▶│   NabuKey App   │────▶│  表情界面叠加   │
│  (消息推送)     │     │  (消息接收处理)  │     │  (消息显示)     │
└────────────────┘     └─────────────────┘     └────────────────┘
```

## 消息类型

| 类型 | 示例 | 显示方式 | 优先级 |
|-----|------|---------|--------|
| 定时提醒 | "休息一下眼睛" | 全屏提示 + 语音播报 | 高 |
| 系统通知 | "空调已开启" | 底部弹窗 | 中 |
| 每日信息 | "今日天气晴" | 待机时显示 | 低 |

## 实现任务

- [ ] 设计消息数据结构
- [ ] 实现消息接收（WebSocket / REST 轮询）
- [ ] 创建消息展示 UI 组件
- [ ] 实现消息队列和显示逻辑
- [ ] 添加定时提醒功能
- [ ] 集成 TTS 语音播报

## 文件结构

```
app/src/main/java/com/nabukey/
├── messages/
│   ├── Message.kt               # 消息数据类
│   ├── MessageQueue.kt          # 消息队列
│   └── MessageReceiver.kt       # 消息接收器
├── ui/components/
│   ├── MessageOverlay.kt        # 消息叠加层
│   └── MessageBanner.kt         # 消息横幅
```
